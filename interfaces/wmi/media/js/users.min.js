function init_users_events(a,b,c,d){me=$("#"+a+"_list").find(".row").filter("#"+b),me.find(".item_menu").hide(),my_user_lock=me.find("."+a+"_locked"),my_user_lock.hover(function(){$(this).html(generate_locked_img("in",$(this).hasClass("is_locked")))},function(){$(this).html(generate_locked_img("out",$(this).hasClass("is_locked")))}),my_user_lock.click(function(){$(this).hasClass("is_locked")?(unlock_dialog=new dialog(gettext("Unlock confirmation"),strargs(gettext("Do you really want to unlock user account <strong>%1</strong>?"),[c]),!0,function(){page_url="/users/mod/"+$.URLEncode(b)+"/unlock/",$.get(page_url)}),unlock_dialog.show()):$.get("/users/message/lock/"+b,function(a){lock_dialog=new dialog(gettext("Lock confirmation"),a,!0,function(){page_url="/users/mod/"+$.URLEncode(b)+"/lock/",$.get(page_url)}),lock_dialog.show()})}),me.find(".users_delete").click(function(){delete_user_dialog_title=gettext("Removal confirmation"),$.get("/users/message/delete/"+b,function(a){delete_user_dialog=new dialog(delete_user_dialog_title,a,!0,function(){$("#delete_user_no_archive").attr("checked")?no_archive="True":no_archive="",page_url="/users/delete/"+$.URLEncode(b)+"/"+no_archive,clear_sub_content_with_id(b),$.get(page_url)}),delete_user_dialog.show()})}),me.find(".users_reapply_skel").click(function(){reapply_skel_user_dialog_title=gettext("Skeleton reapplying confirmation"),reapply_skel_user_dialog_content=strargs(gettext("Are you sure you want to reapply skeleton to user account <strong>%1</strong>?"),[b]),$.get("/users/message/skel/"+b,function(a){reapply_skel_user_dialog_content+=a,reapply_skel_user_dialog=new dialog(reapply_skel_user_dialog_title,reapply_skel_user_dialog_content,!0,function(){skel=$("#id_skel_to_apply").attr("value").toString(),page_url="/users/mod/"+$.URLEncode(b)+"/skel/"+$.URLEncode(skel),$.get(page_url)}),reapply_skel_user_dialog.show()})}),child=me.find("."+a+"_content"),child.hover(function(){is_sub_content_locked()||(clearTimeout(hover_timeout),hover_timeout=setTimeout(function(){$.ajax({url:"/users/view/"+b,success:function(a){reload_div("#sub_content",a)}})},list_hover_timeout_value))},function(){clearTimeout(hover_timeout)}),child.click(function(){is_sub_content_locked()&&$("#sub_content").attr("value")==$(this).parent().attr("id")?(unlock_sub_content(),unselect_row(),reload_div("#sub_content","")):(clearTimeout(hover_timeout),lock_sub_content(b),select_row(a,b),$.ajax({url:"/users/edit/"+$(this).find("."+a+"_"+d).text(),success:function(a){reload_div("#sub_content",a)}}))}),me.hover(function(){is_sub_content_locked()||$(this).find(".item_menu").show()},function(){is_sub_content_locked()||$(this).find(".item_menu").hide()})}function generate_locked_img(a,b){return b?(lock_title=gettext("Unlock user account"),lock_class="user_unlock_action",lock_img="/media/images/24x24/locked.png",lock_alt=lock_title):a=="in"?(lock_title=gettext("Lock user account"),lock_class="locked_box user_lock_action",lock_img="/media/images/24x24/locked_over.png",lock_alt=lock_title):(lock_title=gettext("Lock user account"),lock_class="locked_box user_lock_action",lock_img="/media/images/24x24/locked_box.png",lock_alt=lock_title),"<img src='"+lock_img+"' class='"+lock_class+"' alt='"+lock_alt+"' title='"+lock_title+"'/>"}var hover_timeout;