function init_groups_events(a,b,c,d){me=$("#"+a+"_list").find(".row").filter("#"+b),me.find(".item_menu").hide(),group_perm=me.find("."+a+"_permissive"),group_perm.hover(function(){$(this).html(generate_permissive_img("in",$(this).hasClass("is_permissive"),c))},function(){$(this).html(generate_permissive_img("out",$(this).hasClass("is_permissive"),c))}),group_perm.click(function(){$(this).hasClass("is_permissive")?(perm_title=strargs(gettext("Make group <strong>%1</strong> not permissive?"),[c]),perm_content=strargs(gettext('This will lock shared files to their owner, disallowing modifications by other members. This is perfectly safe, and generally used on groups with a great number of members.<br /><br /> <div class="smaller greyed_out"><em>NOTE</em>: The operation may be lengthy because the system will change permissions of all current files (duration is therefore depending on the data volume, about 10 second for 1Gb).</div>'),[c]),perm=""):(perm_title=strargs(gettext("Make group <strong>%1</strong> permissive?"),[c]),perm_content=gettext('This will permit wider access to files and folders in the group shared directory, allowing any <strong>member of the group</strong> to modify or delete any document in the shared directory (whichever the current owner). <br /><br /> <strong>If the group members are already accustomed to work together on the same documents, making the group permissive is the right choice.</strong> You would usually use this feature on small working groups of people only, as it makes hard to track &ldquo;&nbsp;who modified what&nbsp;&rdquo;. <br /><br /><div class="smaller greyed_out"><em>NOTE</em>: The operation may be lengthy because the system will change permissions of all current files (duration is therefore depending on the data volume, about 10 second for 1Gb).</div>'),perm="True"),perm_dialog=new dialog(perm_title,perm_content,!0,function(){page_url="/groups/mod/"+b+"/permissive/"+perm,$.get(page_url)}),perm_dialog.show()}),me.find(".groups_delete").click(function(){delete_title=gettext("Removal confirmation"),$.get("/groups/message/delete/"+b,function(a){delete_content=a,delete_dialog=new dialog(delete_title,delete_content,!0,function(){$("#delete_group_no_archive").attr("checked")?no_archive="True":no_archive="",page_url="/groups/delete/"+b+"/"+no_archive,clear_sub_content_with_id(b),$.get(page_url)}),delete_dialog.show()})}),me.find(".groups_reapply_skel").click(function(){$.get("/groups/message/skel/"+b,function(a){skel_dialog=new dialog(gettext("Skeleton reapplying confirmation"),a,!0,function(){page_url="/groups/mod/"+b+"/apply_skel/",$.get(page_url)}),skel_dialog.show()})}),child=me.find("."+a+"_content"),child.hover(function(){is_sub_content_locked()||(clearTimeout(hover_timeout),hover_timeout=setTimeout(function(){$.ajax({url:"/groups/view/"+b,success:function(a){$("#sub_content").attr("value",b),reload_div("#sub_content",a)}})},list_hover_timeout_value))},function(){clearTimeout(hover_timeout)}),child.click(function(){is_sub_content_locked()&&$("#sub_content").attr("value")==$(this).parent().attr("id")?(unlock_sub_content(),unselect_row(),reload_div("#sub_content","")):(clearTimeout(hover_timeout),lock_sub_content(b),select_row(a,b),$.ajax({url:"/groups/edit/"+$(this).find("."+a+"_"+d).text(),success:function(a){reload_div("#sub_content",a)}}))}),me.hover(function(){is_sub_content_locked()||$(this).find(".item_menu").show()},function(){is_sub_content_locked()||$(this).find(".item_menu").hide()})}function generate_permissive_img(a,b,c){return typeof b=="boolean"&&(b?b="true":b="false"),b=="true"?a=="in"?(lock_title=strargs(gettext("Make group <strong>%1</strong> not permissive?"),[c]),lock_img="/media/images/24x24/locked_over.png"):(lock_title=strargs(gettext("Make group <strong>%1</strong> not permissive?"),[c]),lock_img="/media/images/24x24/locked_box.png"):(lock_title=strargs(gettext("Make group <strong>%1</strong> permissive?"),[c]),lock_class="locked_box user_lock_action",lock_img="/media/images/24x24/locked.png"),"<img src='"+lock_img+"' alt='"+lock_title+"' title='"+lock_title+"'/>"}var hover_timeout;