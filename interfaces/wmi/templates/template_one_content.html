{#- Copyright 2011 META IT & Robin Lucbernet <robin@meta-it.fr>
    Distributed under the terms of the GNU GPL version 2. -#}

{%- extends 'base.html' -%}

{%- block base_media -%}

	<link rel="stylesheet/less" type="text/css" media="screen,projection" href="/media/css/menu.css">

	<link rel="stylesheet/less" type="text/css" media="screen,projection" href="/media/css/main_template_one_content.css">
	<link rel="stylesheet/less" type="text/css" media="screen,projection" href="/media/css/notifications.css" />


	<script language="javascript" type="text/javascript" src="/media/js/jquery-1.8.min.js"></script>
	<script language="javascript" type="text/javascript" src="/media/js/jquery.color.20111012.min.js"></script>
	<script language="javascript" type="text/javascript" src="/media/js/jquery.easing-1.3.min.js"></script>
	<script language="javascript" type="text/javascript" src="/media/js/jquery.confirm-1.3.min.js"></script>


	<script type="text/javascript" src="{{ url_for('django.views.i18n.javascript_catalog', args=['djangojs']) }}"></script>

	<script language="javascript" type="text/javascript" src="/media/js/utils.js"></script>
	<script language="javascript" type="text/javascript" src="/media/js/push.js"></script>
	<script language="javascript" type="text/javascript" src="/media/js/menu.js"></script>

	<script language="javascript" type="text/javascript" src="/media/js/bootstrap.min.js"></script>
	<script language="javascript" type="text/javascript" src="/media/js/jquery.tablesorter.min.js"></script>
	<script language="javascript" type="text/javascript" src="/media/js/common.js"></script>

	<script language="javascript" type="text/javascript" src="/media/js/jquery.checkbox.js"></script>
	<link rel="stylesheet" type="text/css" media="screen,projection" href="/media/css/jquery.checkbox.css" />


{%- endblock -%}

{%- block end_media -%}
	<link rel="stylesheet" type="text/css" media="screen,projection" href="/media/css/bootstrap.min.css" />
	{#- "LESS" needs to be loaded last, in case extended_media loads more less-CSS. -#}
	<script language="javascript" type="text/javascript" src="/media/js/less-1.1.5.min.js"></script>
{%- endblock -%}


{%- block body -%}

	{%- include 'sidebar.html' -%}

	<div id="content">
		{%- block content -%}
			<div id="notification"></div>
			<div id="main_content" class="span10 offset1">
				{%- block main_content -%}
					{%- if main_content_template -%}
						{%- include main_content_template -%}

					{%- else -%}
						<h1>{{ _('Please define <code>main_content_template</code> in your current view.') }}</h1>
					{%- endif -%}
				{%- endblock -%}
			</div><!-- end main_content -->
		{%- endblock -%}
	</div><!-- end content -->
	<script language="javascript" text='script/javascript'>
		$(document).ready(function() {

			push_setup();
			$('#notification').hide();
			setup_auto_cleaner();

			// you need to define this function in your code
			bind_escape();

		});
	</script>
{%- endblock -%}

